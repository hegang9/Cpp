## 泛型编程
泛型编程时一种编程范式，其核心思想是 **编写与类型无关的代码**，使同一份代码能够处理不同的数据类型，而不牺牲类型安全和性能。

### 泛型编程实现方法
1. 模板
2. C++20引入的 concept

### Concept
Concept 是 C++20 引入的特性，用于对模板参数进行 **编译期约束**，解决传统模板报错信息晦涩的问题。

#### 定义语法
```cpp
template <typename T>
concept 概念名 = 约束表达式;
```

#### 四种使用方式
```cpp
// 1. requires 子句
template <typename T> requires Addable<T>
T add(T a, T b);
 
// 2. 直接替代 typename
template <Addable T>
T add(T a, T b);

// 3. 后置 requires
template <typename T>
T add(T a, T b) requires Addable<T>;

// 4. 简写（auto）
auto add(Addable auto a, Addable auto b);
```

#### requires 表达式中的四种约束
```cpp
template <typename T>
concept Example = requires(T a, T b) {
    a + b;                                    // 简单要求：表达式合法
    typename T::value_type;                   // 类型要求：类型存在
    { a * b } -> std::same_as<T>;             // 复合要求：合法且返回值满足约束
    requires std::is_default_constructible_v<T>; // 嵌套要求
};
```

#### 常用标准库 Concepts（`<concepts>`）
- `std::integral` / `std::floating_point` — 整数/浮点类型
- `std::same_as<T, U>` — 同一类型
- `std::convertible_to<T, U>` — 可转换
- `std::copyable` / `std::movable` — 可拷贝/移动
- `std::equality_comparable` / `std::totally_ordered` — 可比较