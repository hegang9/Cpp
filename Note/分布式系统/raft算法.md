## 基本原理
Raft算法是分布式算法中的一种强一致性算法，其将分布式系统中所有节点分为Follower追随者、Candidate候选者、Leader领导者：

1. Follower：被动响应领导者的心跳和日志复制请求
2. Candidate：选举过程中的临时角色，由超时的Follower转换而来
3. Leader：处理所有客户端请求，负责日志复制。同一时刻有且仅有一个

- 选举过程：所有节点初始化都为Follower，通过心跳机制去判断有无Leader，若心跳机制超时，代表没有Leader，则该节点变为Candidate。成为Candidate的节点向其他Follower发起选票，多个Candidate通过随机事件来避免同时选票，当某个Candidate获得超过大部分的票数时成为Leader。成为Leader的节点开始日志同步、日志提交等操作。
  
  <img src="image.png" width="500" />

   
## Raft中的一些重要概念：
#### term 任期：

一个逻辑时钟概念，**用连续递增的整数表示**。帮助节点识别过期的消息和领导者。**每次选举都会开启一个新的任期**。

#### 上层状态机：

上层应用，可以是数据库或redis等

#### 日志：

日志在Raft中用于**保存客户端请求命令**，是实现一致性的核心载体。Raft让多个节点的上层状态机保持一致的关键时让各节点的日志保持一致。

#### 日志条目：

每个日志条目包含三个重要信息：
1. 索引：日志条目的唯一顺序编号
2. 任期号：创建该条目时的任期信息
3. 命令：客户端请求的操作指令

