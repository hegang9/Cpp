# 字符串处理

## 字符数组输入

### 使用 cin.getline

```cpp
char name[20];
cin.getline(name, 20);
cout << name;
```

**特点**：若输入的字符串长度大于 19 个（最后一个字符要留给空字符），则多余的字符串会留在输入队列中，不会报错。

### 使用 cin.get 实现相同功能

```cpp
cin.get(name, 20).get();  // 第二个 get 是为了消耗输入队列中残余的换行符
cout << name << endl;
```

### 检查是否超出限制

```cpp
char end;
cin.get(end);  // 用于检查最后一个被截断的字符是否为换行符
cout << end;
```

由此可确定输入的字符串是否超出限制。多余的字符串会留在输入队列中。

## 字符串类输入

### 使用 getline 函数

```cpp
string s;
getline(cin, s);
```

## cin 读取机制

### 关键特点

- `cin >>` 会将输入队列中最后的空白符号保留
- 在 `cin >> a >> b` 中，a 与 b 之间的空白符会跳过，只保留最后的空白符
- 因此下面代码的 `getline` 函数会读取到输入队列中残余的换行符导致错误

### 问题代码示例

```cpp
cout << "str" << endl;
string str;
cin >> str;
char name[20];
cin.getline(name, 20);  // 这里会读取残余的换行符，导致直接返回空字符串
cout << name;
```

### 解决方案

在使用 `getline` 之前，先消耗输入队列中的换行符：

```cpp
cout << "str" << endl;
string str;
cin >> str;
cin.ignore();  // 消耗换行符
char name[20];
cin.getline(name, 20);
cout << name;
```

## 原始字符串

### 语法

使用 `R"(...)` 来表示原始字符串，其中定界符为 `(` 和 `)`，前缀为 `R`。

### 示例

```cpp
cout << R"("小明"是个大/帅哥/。)";
// 输出：("小明"是个大/帅哥/。)
```

**优点**：原始字符串不需要转义特殊字符。
