# 36.inline 失效场景

inline函数在以下情况下可能会失效：

1. 函数体过大：当函数体非常庞大时，编译器可能会放弃将其展开成内联代码。因为将大量的代码复制到调用点可能会导致代码膨胀，反而影响程序性能。
2. 函数中含有循环或递归：如果函数中含有循环或递归等结构，那么展开成内联代码后可能会导致代码量增加，反而降低程序的执行效率。
3. 调用处过多：如果一个内联函数被频繁地调用，在展开成内联代码后可能会导致可执行文件大小增加、缓存未命中率升高等问题，从而影响程序性能。
4. 对于虚函数、递归函数和带有动态绑定（如多态）的函数通常不会进行内联优化。
5. 编译器限制：一些编译器对于inline关键字并不完全支持。比如某些编译器可能只支持inline关键字作为建议，并不能保证将其视为强制要求来处理。